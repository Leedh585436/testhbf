<!DOCTYPE html>
<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width-device width, initial-scale=1">
	<title>Test tab</title>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
	<link rel="stylesheet" type="text/css" href="style.css">
	<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.0/jquery.min.js"></script>
</head>

<body>
	<div class="row justify-content-center">
		<div class="grid-cont3">
			<div class="grid-cursor grid-bord1" id="prev"><img src="images/dog2.png" class="grid-dog" alt="P"></div>
			<div class="grid-default grid-bord1" id="week"></div>
			<div class="grid-cursor grid-bord1" id="next"><img src="images/dog1.png" class="grid-dog" alt="N"></div>
		</div>
		<div class="grid-cont1">
			<div class="grid-day grid-default" id="button"></div>
			<div class="grid-day grid-default" id="mon"></div>
			<div class="grid-day grid-default" id="tue"></div>
			<div class="grid-day grid-default" id="wed"></div>
			<div class="grid-day grid-default" id="thu"></div>
			<div class="grid-day grid-default" id="fri"></div>
			<div class="grid-day grid-default" id="sat"></div>
		</div>
		<div class="grid-cont2">
			<div class="grid-9 grid-default">9h - 10h</div>
			<div class="grid-10 grid-default">10h - 11h</div>
			<div class="grid-11 grid-default">11h - 12h</div>
			<div class="grid-12 grid-default">12h - 13h</div>
			<div class="grid-13 grid-default">13h - 14h</div>
			<div class="grid-14 grid-default">14h - 15h</div>
			<div class="grid-15 grid-default">15h - 16h</div>
			<div class="grid-16 grid-default">16h - 17h</div>
			<div class="grid-17 grid-default">17h - 18h</div>
			<div class="grid-18 grid-default">18h - 19h</div>
			<div class="grid-12b"></div>
			<div class="grid-9 grid-cursor grid-bord2" id="mon9">Cours 1<br>Debutant</div>
			<div class="grid-10 grid-cursor grid-bord2" id="mon10">Cours 2<br>Debutant</div>
			<div class="grid-11 grid-cursor grid-bord2" id="mon11">Cours 3<br>Debutant</div>
			<div class="grid-13 grid-cursor grid-bord2" id="mon13">Cours 5<br>Debutant</div>
			<div class="grid-14 grid-cursor grid-bord2" id="mon14">Cours 6<br>Debutant</div>
			<div class="grid-15 grid-cursor grid-bord2" id="mon15">Cours 7<br>Debutant</div>
			<div class="grid-16 grid-cursor grid-bord2" id="mon16">Cours 8<br>Debutant</div>
			<div class="grid-17 grid-cursor grid-bord2" id="mon17">Cours 9<br>Debutant</div>
			<div class="grid-18 grid-cursor grid-bord2" id="mon18">Cours 10<br>Debutant</div>
			<div class="grid-9 grid-cursor grid-bord2" id="tue9">Cours 1<br>Debutant</div>
			<div class="grid-10 grid-cursor grid-bord2" id="tue10">Cours 2<br>Debutant</div>
			<div class="grid-11 grid-cursor grid-bord2" id="tue11">Cours 3<br>Debutant</div>
			<div class="grid-13 grid-cursor grid-bord2" id="tue13">Cours 5<br>Debutant</div>
			<div class="grid-14 grid-cursor grid-bord2" id="tue14">Cours 6<br>Debutant</div>
			<div class="grid-15 grid-cursor grid-bord2" id="tue15">Cours 7<br>Debutant</div>
			<div class="grid-16 grid-cursor grid-bord2" id="tue16">Cours 8<br>Debutant</div>
			<div class="grid-17 grid-cursor grid-bord2" id="tue17">Cours 9<br>Debutant</div>
			<div class="grid-18 grid-cursor grid-bord2" id="tue18">Cours 10<br>Debutant</div>
			<div class="grid-9 grid-cursor grid-bord2" id="wed9">Cours 1<br>Debutant</div>
			<div class="grid-10 grid-cursor grid-bord2" id="wed10">Cours 2<br>Debutant</div>
			<div class="grid-11 grid-cursor grid-bord2" id="wed11">Cours 3<br>Debutant</div>
			<div class="grid-13 grid-cursor grid-bord2" id="wed13">Cours 5<br>Debutant</div>
			<div class="grid-14 grid-cursor grid-bord2" id="wed14">Cours 6<br>Debutant</div>
			<div class="grid-15 grid-cursor grid-bord2" id="wed15">Cours 7<br>Debutant</div>
			<div class="grid-16 grid-cursor grid-bord2" id="wed16">Cours 8<br>Debutant</div>
			<div class="grid-17 grid-cursor grid-bord2" id="wed17">Cours 9<br>Debutant</div>
			<div class="grid-18 grid-cursor grid-bord2" id="wed18">Cours 10<br>Debutant</div>
			<div class="grid-9 grid-cursor grid-bord2" id="thu9">Cours 1<br>Debutant</div>
			<div class="grid-10 grid-cursor grid-bord2" id="thu10">Cours 2<br>Debutant</div>
			<div class="grid-11 grid-cursor grid-bord2" id="thu11">Cours 3<br>Debutant</div>
			<div class="grid-13 grid-cursor grid-bord2" id="thu13">Cours 5<br>Debutant</div>
			<div class="grid-14 grid-cursor grid-bord2" id="thu14">Cours 6<br>Debutant</div>
			<div class="grid-15 grid-cursor grid-bord2" id="thu15">Cours 7<br>Debutant</div>
			<div class="grid-16 grid-cursor grid-bord2" id="thu16">Cours 8<br>Debutant</div>
			<div class="grid-17 grid-cursor grid-bord2" id="thu17">Cours 9<br>Debutant</div>
			<div class="grid-18 grid-cursor grid-bord2" id="thu18">Cours 10<br>Debutant</div>
			<div class="grid-9 grid-cursor grid-bord2" id="fri9">Cours 1<br>Debutant</div>
			<div class="grid-10 grid-cursor grid-bord2" id="fri10">Cours 2<br>Debutant</div>
			<div class="grid-11 grid-cursor grid-bord2" id="fri11">Cours 3<br>Debutant</div>
			<div class="grid-13 grid-cursor grid-bord2" id="fri13">Cours 5<br>Debutant</div>
			<div class="grid-14 grid-cursor grid-bord2" id="fri14">Cours 6<br>Debutant</div>
			<div class="grid-15 grid-cursor grid-bord2" id="fri15">Cours 7<br>Debutant</div>
			<div class="grid-16 grid-cursor grid-bord2" id="fri16">Cours 8<br>Debutant</div>
			<div class="grid-17 grid-cursor grid-bord2" id="fri17">Cours 9<br>Debutant</div>
			<div class="grid-18 grid-cursor grid-bord2" id="fri18">Cours 10<br>Debutant</div>
			<div class="grid-9 grid-cursor grid-bord2" id="sat9">Cours 1<br>Debutant</div>
			<div class="grid-10 grid-cursor grid-bord2" id="sat10">Cours 2<br>Debutant</div>
			<div class="grid-11 grid-cursor grid-bord2" id="sat11">Cours 3<br>Debutant</div>
			<div class="grid-13 grid-cursor grid-bord2" id="sat13">Cours 5<br>Debutant</div>
			<div class="grid-14 grid-cursor grid-bord2" id="sat14">Cours 6<br>Debutant</div>
			<div class="grid-15 grid-cursor grid-bord2" id="sat15">Cours 7<br>Debutant</div>
			<div class="grid-16 grid-cursor grid-bord2" id="sat16">Cours 8<br>Debutant</div>
			<div class="grid-17 grid-cursor grid-bord2" id="sat17">Cours 9<br>Debutant</div>
			<div class="grid-18 grid-cursor grid-bord2" id="sat18">Cours 10<br>Debutant</div>
		</div>
	</div>
</body>
</html>

<script>
	var days = ['mon','tue','wed','thu','fri','sat'];
	var days_text = ['Lundi','Mardi','Mercredi','Jeudi','Vendredi','Samedi'];
	var today = new Date();
	var today_day = today.getDay();

	var hours = [9,10,11,13,14,15,16,17,18];
	var cours_test = ['Cours 1','Cours 2','Cours 3','Cours 5','Cours 6','Cours 7','Cours 8','Cours 9','Cours 10'];
	var cours_col = ['red','navy','green','purple','pink','orange','saddlebrown','cyan','teal'];
	var niveau = ['Debutant','Intermediaire','Expert'];

	var selected = new Array(54);
	for (var i = 0; i < selected.length; i++) {
		selected[i] = 0;
	}
	$(document).ready(function(){
		set_tab();
			
		document.getElementById('mon9').addEventListener("click",changecol);
		document.getElementById('mon10').addEventListener("click",changecol);
		document.getElementById('mon11').addEventListener("click",changecol);
		document.getElementById('mon13').addEventListener("click",changecol);
		document.getElementById('mon14').addEventListener("click",changecol);
		document.getElementById('mon15').addEventListener("click",changecol);
		document.getElementById('mon16').addEventListener("click",changecol);
		document.getElementById('mon17').addEventListener("click",changecol);
		document.getElementById('mon18').addEventListener("click",changecol);
		document.getElementById('tue9').addEventListener("click",changecol);
		document.getElementById('tue10').addEventListener("click",changecol);
		document.getElementById('tue11').addEventListener("click",changecol);
		document.getElementById('tue13').addEventListener("click",changecol);
		document.getElementById('tue14').addEventListener("click",changecol);
		document.getElementById('tue15').addEventListener("click",changecol);
		document.getElementById('tue16').addEventListener("click",changecol);
		document.getElementById('tue17').addEventListener("click",changecol);
		document.getElementById('tue18').addEventListener("click",changecol);
		document.getElementById('wed9').addEventListener("click",changecol);
		document.getElementById('wed10').addEventListener("click",changecol);
		document.getElementById('wed11').addEventListener("click",changecol);
		document.getElementById('wed13').addEventListener("click",changecol);
		document.getElementById('wed14').addEventListener("click",changecol);
		document.getElementById('wed15').addEventListener("click",changecol);
		document.getElementById('wed16').addEventListener("click",changecol);
		document.getElementById('wed17').addEventListener("click",changecol);
		document.getElementById('wed18').addEventListener("click",changecol);
		document.getElementById('thu9').addEventListener("click",changecol);
		document.getElementById('thu10').addEventListener("click",changecol);
		document.getElementById('thu11').addEventListener("click",changecol);
		document.getElementById('thu13').addEventListener("click",changecol);
		document.getElementById('thu14').addEventListener("click",changecol);
		document.getElementById('thu15').addEventListener("click",changecol);
		document.getElementById('thu16').addEventListener("click",changecol);
		document.getElementById('thu17').addEventListener("click",changecol);
		document.getElementById('thu18').addEventListener("click",changecol);
		document.getElementById('fri9').addEventListener("click",changecol);
		document.getElementById('fri10').addEventListener("click",changecol);
		document.getElementById('fri11').addEventListener("click",changecol);
		document.getElementById('fri13').addEventListener("click",changecol);
		document.getElementById('fri14').addEventListener("click",changecol);
		document.getElementById('fri15').addEventListener("click",changecol);
		document.getElementById('fri16').addEventListener("click",changecol);
		document.getElementById('fri17').addEventListener("click",changecol);
		document.getElementById('fri18').addEventListener("click",changecol);
		document.getElementById('sat9').addEventListener("click",changecol);
		document.getElementById('sat10').addEventListener("click",changecol);
		document.getElementById('sat11').addEventListener("click",changecol);
		document.getElementById('sat13').addEventListener("click",changecol);
		document.getElementById('sat14').addEventListener("click",changecol);
		document.getElementById('sat15').addEventListener("click",changecol);
		document.getElementById('sat16').addEventListener("click",changecol);
		document.getElementById('sat17').addEventListener("click",changecol);
		document.getElementById('sat18').addEventListener("click",changecol);
	});

	$('#prev').click(function(){
		var ndate = today.getTime() - 7 * 24 * 3600000;
		today = new Date(ndate);
		today_day = today.getDay();
		set_tab();
	});

	$('#next').click(function(){
		var ndate = today.getTime() + 7 * 24 * 3600000;
		today = new Date(ndate);
		today_day = today.getDay();
		set_tab();
	});

	function changecol(){
		for (var i = 0; i < days.length; i++) {
			for (var j = 0; j < hours.length; j++) {
				if (this.id == days[i] + hours[j]) {
					var num = 9 * i + (j + 1);
					if (selected[num-1] == 0) {
						selected[num-1] = 1;
						this.style.backgroundColor = 'black';
					} else {
						selected[num-1] = 0;
						this.style.backgroundColor = 'ghostwhite';
					}
					i = days.length;
					j = hours.length;
				}
			}
		}
	}

	function date_new(date,i,j){
		let dms = date.getTime() + (i - j + 1) * 24 * 3600000;
		return new Date(dms);
	}

	function date_week(date,j){
		let debut = date_new(date,0,j);
		let fin = date_new(date,6,j);
		return date_return(debut) + " - " + date_return(fin);
	}

	function date_return(date){
		let d = date;
		d = ['0' + d.getDate(),'0' + (d.getMonth() + 1),'' + d.getFullYear()].map(component => component.slice(-2)); // prend les 2 derniers chiffres de chaque composant
		// joindre les composants en date
		return d.slice(0, 3).join('/');
	}

	function set_tab(){
		document.getElementById('week').innerHTML = date_week(today,today_day);
		for (var i = 0; i < days.length; i++) {
			var days_date = date_new(today,i,today_day);
			document.getElementById(days[i]).innerHTML = days_text[i] + "<br>" + date_return(days_date);
			for (var j = 0; j < hours.length; j++) {
				var dh = '#' + days[i] + hours[j];
				var valtest = $(dh).text();
				for (var k = 0; k < cours_test.length; k++) {
					if ((valtest == (cours_test[k] + niveau[0]))||(valtest == (cours_test[k] + niveau[1]))||(valtest == (cours_test[k] + niveau[2]))) {
						document.getElementById(days[i] + hours[j]).style.color = cours_col[k];
					}
				}					
			}
		}
	}
</script>